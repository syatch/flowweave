**Note:** The MD files under `docs/` were generated by AI and partially edited by developers.ã€€They may contain some inaccuracies.

# FLOWWEAVE_YAML.md

```markdown
# FlowWeave YAML Reference

This document provides a reference for writing YAML files used in FlowWeave workflows.

## 1. Flow Definition

```yaml
flow:
  - stage1
  - stage2
  - stage3

stage:
  stage1:
    task1:
      op: op_name
      option:
        key1: value1
      chain:
        part: head
        next: task2
    task2:
      op: op_name
      option:
        key2: value2
  stage2:
    ...
```

- `flow`: List of stage names in execution order.
- `stage`: Dictionary mapping stage names to their tasks.
- `taskN`: Identifier for a task.
- `op`: Name of the operation implemented as a Task class.
- `option`: Task-specific configuration values.
- `chain.part`: `"head"` or `"head"` indicates start task or middle/tail task; depend on previous tasks.
- `chain.next`: Next task(s) to execute after this task. Can be a list or a single task.

## 2. Global Options

```yaml
global_option:
  option_group1:
    task1:
      param1: [value1, value2]
      param2: [value3, value4]
```

- Allows defining combinations of values for tasks.
- FlowWeave generates all combinations automatically.

## 3. Default Options

```yaml
default_option:
  param1: default_value1
  param2: default_value2
```

- Applied to all tasks unless overridden by `option` or `global_option`.

## 4. Operator Source

```yaml
op_source:
  - module_name
```

- Points to directories under `task/` containing `op_code.yml` and task scripts.
```